# Resources configuration file
# Defines resource structures for different providers

resources:
  GithubResource:
    name: "github"
    description: "GitHub repository resource"
    provider: "github"
    
    # Define the structure that matches GitHub API response
    fields:
      repository: "string"
      basic_info:
        id: "integer"
        name: "string" 
        full_name: "string"
        description: "string"
        private: "boolean"
        owner: "string"
        html_url: "string"
        clone_url: "string"
        ssh_url: "string"
        size: "integer"
        language: "string"
        created_at: "string"
        updated_at: "string"
        pushed_at: "string"
        stargazers_count: "integer"
        watchers_count: "integer"
        forks_count: "integer"
        open_issues_count: "integer"
        archived: "boolean"
        disabled: "boolean"
      metadata:
        default_branch: "string"
        topics: "array"
        has_issues: "boolean"
        has_projects: "boolean"
        has_wiki: "boolean"
        has_pages: "boolean"
        has_downloads: "boolean"
        has_discussions: "boolean"
        is_template: "boolean"
        license: "string"
      branches:
        - name: "string"
          sha: "string"  
          protected: "boolean"
          protection_details: "object"
      statistics:
        total_commits: "integer"
        contributors_count: "integer"
        languages: "object"
        code_frequency: "array"

  GithubResourceCollection:
    name: "github_collection"
    description: "Collection of GitHub repository resources from a single connector call"
    provider: "github"
    collection_type: "GithubResource"
    
    # Define the structure for GitHub resource collections
    fields:
      resources: "github_resource_array"
      source_connector: "string"
      total_count: "integer"
      fetched_at: "string"
      collection_metadata:
        authenticated_user: "string"
        total_repositories: "integer"
        total_workflows: "integer"
        total_issues: "integer"
        total_pull_requests: "integer"
        total_security_alerts: "integer"
        total_collaborators: "integer"
        total_tags: "integer"
        total_active_webhooks: "integer"
        rate_limit_info: "object"
      github_api_metadata:
        collection_time: "string"
        api_version: "string"
        scope: "array"
